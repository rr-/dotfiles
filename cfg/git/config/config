[github]
    user = rr-

[branch]
    autosetuprebase = always

[core]
    excludesfile = ~/.gitignore
    autocrlf = false
    eol = lf
    whitespace = tab-in-indent

[merge]
    conflictStyle = diff3

[alias]
    count-lines = "!f() { git grep --cached -Il ''|grep -vP 'package\\.|migrations/|\\.([mp]o|lock|json5?|svg)$' | xargs wc -l; }; f"
    set-upstream = !git branch --set-upstream-to=origin/`git symbolic-ref --short HEAD`
    amen = commit --amend
    ramen = commit --amend --all --no-edit
    push-up-to = "!f() { \
        commit="$1"; shift; \
        remote=origin; \
        branch=$(git rev-parse --abbrev-ref HEAD); \
        git push "$remote" "$commit":"$branch" "$@"; \
    }; f"
    hist = log --pretty=format:\"%Cred%h%Creset %ad %Cblue%<(50,trunc)%s%Creset [%an <%ae>]%d\" --graph --date=short
    yearly-stats = !~/.config/git/yearly_stats
    delete-old-branches = !~/.config/git/delete_old_branches

[diff]
    tool = meld

[push]
    default = current
    followTags = true

[status]
    showUntrackedFiles = all

[color "diff"]
    old = red reverse
    new = green reverse
    whitespace = blue reverse

[commit]
    gpgsign = true

[pull]
    ff = only

[gpg]
    program = gpg

[includeIf "gitdir:*/oc/"]
    path = ~/.config/git/config-priv
[includeIf "gitdir:*/srv/"]
    path = ~/.config/git/config-priv
[includeIf "gitdir:~/src/dotfiles/"]
    path = ~/.config/git/config-priv
[includeIf "gitdir:~/src/dotfiles-priv/"]
    path = ~/.config/git/config-priv
[includeIf "gitdir:~/dotfiles/"]
    path = ~/.config/git/config-priv
[includeIf "gitdir:~/dotfiles-priv/"]
    path = ~/.config/git/config-priv
[includeIf "gitdir:~/work/ext/"]
    path = ~/.config/git/config-priv
[includeIf "gitdir:~/work/priv/"]
    path = ~/.config/git/config-priv
[includeIf "gitdir:~/work/postmedia/"]
    path = ~/.config/git/config-postmedia
[includeIf "gitdir:~/work/invoices/"]
    path = ~/.config/git/config-priv
[includeIf "gitdir:~/work/cloudlinux/"]
    path = ~/.config/git/config-cloudlinux
[credential "https://github.com"]
    helper = !/usr/bin/gh auth git-credential
