"default search engine
"used to be duckduckgo but it sucks too much

map , <Leader>

"enter
inoremap <C-j> <Enter>
nnoremap <C-j> <Nop>
cnoremap <C-j> <Enter>
inoremap <C-m> <Enter>
nnoremap <C-m> <Nop>
cnoremap <C-m> <Enter>

"ctrl + a
inoremap <C-a> <C-Home><C-S-End>
cnoremap <C-a> <C-Home><C-S-End>

"use Firefox version of ctrl + c and ctrl + v
noremap <C-c> <C-v><C-c>
noremap <C-v> <C-v><C-v>

"prevent c-i hijacking on github... by adding alternative
inoremap <C-S-i> <C-i>

"easy paging
set previouspattern='\bprev\b|\bprevious\b,^<$,^(<<|«)$,^(<|«),(<|«)$'
noremap < [[
noremap > ]]

"long jump
noremap J 50j
noremap K 50k

nnoremap <C-q> :xall<CR>

 "fix hints on youtube
highlight Hint -append z-index:2999999999

"disable history autocomplete
set complete=sl

"disable everything but tabs
set gui=none,tabs

"use smaller set of characters for hints to ease single handed navigation
set hintchars=123456

"automatically follow typed hint after a while
set hinttimeout=750

"don't display anything extra in hints, just the numbers
set showtexthints=false

"disable scrollbars
set scrollbars=false

"show small numbers above each tab
set tabnumbers=true

"vimperator issue #590
js services.services.autoCompleteSearch.class_="@mozilla.org/autocomplete/search;1?name=unifiedcomplete"

"fit image to window
noremap zf :set! browser.enable_automatic_image_resizing=true<CR><Esc>:reload<CR>

"show image at original size
noremap zo :set! browser.enable_automatic_image_resizing=false<CR><Esc>:reload<CR>

"play current url with mpv
nnoremap <leader>m :silent :execute "!mpv --fs --ytdl --ytdl-format=best \"" + content.location.href + "\" &"<CR>

"play hinted url with mpv
javascript <<EOF
    hints.addMode('m', 'Open with mpv:', (elem, loc) => {
        liberator.execute("silent !mpv --fs --ytdl --ytdl-format=best '" + loc + "' &", null, true);
    });
EOF

"open tabs next to active tab
javascript <<EOF
    function tabnextto(url) {
        let n = gBrowser.tabContainer.selectedIndex;
        liberator.execute(':tabopen ' + url);
        liberator.execute(':tabmove ' + (n + 1));
    }
EOF
command! tabnextto -nargs=* -complete=url :js tabnextto('<args>')
nnoremap t :tabnextto<Space>

"focus last selected tab on closing the current tab
nnoremap d :bd -s lastactive<CR>


"StatusLine settings
hi StatusLine           color: #ffffff; background: #222; border-color: green !important;
hi ContentSeparator display: none;

"CmdLine settings excluding Gradient
hi Normal               color: #afafaf; background: #222;
hi CmdLine              background: #222; color: #afafaf; font-size: 9pt;
hi CompDesc             color: #c6c6c6; width: 50%; font-size: 9pt;
hi CompIcon             width: 16px; min-width: 16px; display: inline-block; margin-right: .5ex;
hi CompItem[selected]   background: #666666; color: #afafaf;
hi CompMsg              font-style: italic; margin-left: 16px;
hi CompResult           width: 45%; overflow: hidden;font-size: 10pt; font-family: monospace; font-weight: normal;
hi CompTitle            color: #afafaf; background: #222; font-weight: bold;
hi CompTitle>*          padding: 0 .5ex;
hi Filter               font-weight: bold;color: #afafaf;

"Used with ]f and [f
hi FrameIndicator       background-color: #222; opacity: 0.5; z-index: 999; position: fixed; top: 0; bottom: 0; left: 0; right: 0;

hi Bell                 border: 0 none; background-color: #222;
hi ErrorMsg             color: #ffffff; background: red; font-weight: bold;

"Hint section
hi Hint                 font-size: 10px; line-height: 10px; font-weight: bold; color: black; background-color: #FA4; padding: 0.3em 0.5em; border-radius: 3px;
hi Hint::after          content: attr(number);
hi HintActive           background: lime; color: #000;
hi HintElem             background: #FF0; color: #000;
hi HintImage            opacity: .5;

"Other important stuff
hi InfoMsg              color: #afafaf; background: #222;
hi Message              white-space: normal; min-width: 100%; padding-left: 2em; text-indent: -2em; display: block;
hi WarningMsg           color: red; background: #222;
hi ModeMsg              color: #afafaf; background: #222; "CmdLine when Not in Use
hi MoreMsg              color: #afafaf; background: #222;
hi NonText              color: lightblue; min-height: 16px; padding-left: 2px;
hi Question             color: #ffffff; background: #222; font-weight: bold;
hi Function             color: lightgreen; background: #222;
hi Number               color: tan; background: #222
hi String               color: #222; background: #afafaf;
hi Tag                  color: #222; background: #afafaf;
hi Title                color: #222; background: #afafaf; font-weight: bold;
hi URL                  text-decoration: none; color: lightblue; background: inherit;
hi URL:hover            text-decoration: underline; cursor: pointer;
hi LineNr               color: #afafaf; background: #222;
